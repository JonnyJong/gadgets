@media (prefers-color-scheme: dark)
  .dark-filter
    display block
[data-theme="dark"]
  .dark-filter
    display block
[data-theme="light"]
  .dark-filter
    display none
@keyframes rainbow
  0%
    backdrop-filter hue-rotate(0deg)
  100%
    backdrop-filter hue-rotate(360deg)
*
  box-sizing border-box
body
  margin 0
  display flex
  flex-direction column
  font-size 16px
  height calc(100vh - 120px)
  user-select none
  align-items center
  overflow hidden
  &>*
    width 577px
    max-width 100vw
  &.full
    height 100vh
.dark-animation .dark-filter-animation
  height 300vmax
  width 300vmax
  transition .5s height ease, .5s width ease

.pc
  .btn:hover
    background #8882
  .block:hover
    background #ddd
  .dialog .btns>*:hover
    background #8882

.color-filter
.dark-filter
  position fixed
  top 0
  left 0
  height 100vh
  width 100vw
  pointer-events none
  z-index 99
.color-filter
  animation 30s rainbow linear infinite
.dark-filter
  display none
  backdrop-filter invert(1) hue-rotate(180deg)

.btn
  height var(--size, 48px)
  width var(--size, 48px)
  display flex
  align-items center
  justify-content center
  flex-direction column
  border-radius var(--size, 48px)
  transition .1s background
  // &:hover
  //   background #8882
  &:active
  &.active
    transition 0s
    background #69d647 !important

.nav
  display flex
  align-items center
  padding 8px
  gap 4px

.flex
  flex auto

.timer
  display flex
  align-items center
  gap 2px
  padding 0 8px 0 6px
  height 27px
  border-radius 2px
  background #111
  color #fff
  border-radius 3px
.time
  font-size 18px
  font-family 'Ubuntu Mono', monospace

.darkmode
  position relative

.dark-filter-animation
  position absolute
  top 50%
  left 50%
  transform translate(-50%, -50%)
  backdrop-filter invert(1) hue-rotate(180deg)
  z-index 100
  pointer-events none
  border-radius 100%
  height 0vmax
  width 0vmax

.center
  flex auto
  padding 10px
  display flex
  align-items center
  justify-content center

.table
  max-width 577px
  max-height 577px

.block
  display inline-block
  position relative
  width s('min(calc((100vw - 20px) / 9), 557px / 9, calc((100vh - 240px) / 9))')
  // height s('min(calc((100vw - 20px) / 9), 557px / 9, calc((100vh - 220px) / 9))')
  height 100%
  border-right 1px solid #888
  border-bottom 1px solid #888
  &.default
    .cur-num
      color #3300d7
  .cur-num
    position relative
    font-size s('min(calc((100vw - 20px) / 13), 557px / 13, calc((100vh - 240px) / 13))')
    text-align center
    z-index 1
    &:not(:empty)+.mark-num
      opacity 0
  .mark-num
    position absolute
    display flex
    flex-wrap wrap
    align-items center
    justify-content center
    &>*
      font-size s('min(calc((100vw - 20px) / 36), 557px / 36, calc((100vh - 240px) / 36))')
      width calc(100% / 3)
      // height calc(100% / 3)
      text-align center
      line-height s('min(calc((100vw - 20px) / 27), 557px / 27, calc((100vh - 240px) / 27))')
      opacity 0
  &:first-child
    border-left 3px solid #888
  &:nth-child(3)
  &:nth-child(6)
  &:last-child
    border-right 3px solid #888
  // &:hover
  //   background #ddd
  &.hl
    background #a4f78b !important
  &.active
    background #69d647 !important
  &.fake-active
    background #69d647 !important
.a .a
.b .b
.c .c
.d .d
.e .e
.f .f
.g .g
.h .h
.i .i
  opacity 1
.show-error
  .block.error
    background #f05a5a !important
    z-index 101

.line
  height s('min(calc((100vw - 20px) / 9), 557px / 9, calc((100vh - 240px) / 9))')
  display flex
  &:first-child
    &>*
      border-top 3px solid #888
  &:nth-child(3)
  &:nth-child(6)
  &:last-child
    &>*
      border-bottom 3px solid #888

.do
  display flex
  flex-wrap wrap
  justify-content center
  padding 4px
  --size 48px
  gap 10px
  &>*
    display flex
    width 100%
    justify-content space-evenly
    gap 0
    &>*
      border 1px solid #0004

.label
  font-size 18px
  line-height 1.2
.less
  font-size 12px
  line-height 1

.tool
  display flex
  padding 4px
  gap 4px

.mark
  flex auto

.dialog
  position fixed
  z-index 10
  display flex
  align-items center
  justify-content center
  height 100vh
  width 100vw
  background #fff8
  opacity 0
  pointer-events none
  transition .2s opacity
  padding 40px
  &>*
    background #f8f8f8
    border-radius 6px
    overflow hidden
    transform translateY(-50px)
    transition .2s transform
  .title
    font-size 18px
    text-align center
    padding 10px
  .content
    text-align center
    padding 30px 10px
  .btns
    display flex
    flex-wrap wrap
    &>*
      height 50px
      width 200px
      text-align center
      line-height 50px
      transition .2s background
      // &:hover
      //   background #8882
      &:active
        background #8888 !important
  &.open
    opacity 1
    pointer-events all
    &>*
      transform translateY(0px)
.main-btn
  color #3c7a29
@media screen and (max-width: 879px)
  .dialog .btns>*
    width calc((100vw - 80px) / 2)

.panel
  position fixed
  top 0
  left 0
  right 0
  margin auto
  height 100vh
  background #fff0
  pointer-events none
  transition .3s background
  z-index 98
.close-panel
  height 64px
.save-load
  position absolute
  top calc(100vh + 8px)
  background #fff
  border-radius 10px 10px 0 0
  height calc(100vh - 64px)
  width 100%
  transition .3s top
  box-shadow 0 -4px 4px #0008
  .title>*
    font-size 18px
    text-align center
    padding 20px 10px
  .content
    height calc(100vh - 128px)
    overflow auto
    overflow overlay
    display flex
    flex-wrap wrap
    align-content flex-start
    padding 0 10px
    gap 10px
    &>*
      border 1px solid #8888
      border-radius 10px
      width s('min(calc((100vw - 40px) / 3), calc(537px / 3))')
      height s('min(calc((100vw - 40px) / 3), calc(537px / 3))')
    &>*:not(.save-item)
      justify-content center
      align-items center
      flex-direction column
      font-size s('min(calc((100vw - 35px) / 40), calc(537px / 35))')
      &>* .icon
        padding-bottom 10px
      .icon
        font-size s('min(calc((100vw - 40px) / 10), calc(537px / 10))')
        text-align center
.save-item
  display flex
  flex-direction column
  justify-content center
  .view
    display flex
    flex-direction column
    align-items center
    &>*
      display flex
      &>*
        height s('min(calc((100vw - 35px) / 40), calc(537px / 35))')
        width s('min(calc((100vw - 35px) / 40), calc(537px / 35))')
        outline 1px solid #bbb
      .h
        background #69d647
  &>*:not(.view)
    text-align center
    font-size s('min(calc((100vw - 35px) / 40), calc(537px / 35))')
.save-new
.save-label
.load-label
.save-title
.load-title
  display none
.save-mode
  .save-label
  .save-title
    display block
  .save-load-outside
  .save-new
    display flex
.load-mode
  .load-label
  .load-title
    display block
  .save-load-outside
    display flex
.save-mode
.panel.load-mode
  background #fff8
  pointer-events all
  .save-load
    top 64px

.input
  position fixed
  top 0
  left 0
  right 0
  margin auto
  height 100vh
  z-index 98
  div
    position relative
    height 100%
    width 100%
    background #fff8
  input
    position absolute
    top 30vh
    width 100%

.win
  position fixed
  top 0
  left 0
  height 100vh
  width 100vw
  display flex
  align-items center
  justify-content center
  background #fff0
  pointer-events none
  transition .3s background
  z-index 1
  .icon
    background #fff
    border 1px solid #000
    text-align center
    border-radius 100%
    // width s('min(calc((100vw - 20px) / 2), 557px / 2, calc((100vh - 240px) / 2))')
    width s('min(calc((100vw - 20px) / 5), 557px / 5, calc((100vh - 240px) / 5))')
    font-size s('min(calc((100vw - 20px) / 10), 557px / 10, calc((100vh - 240px) / 10))')
    // height s('min(calc((100vw - 20px) / 2), 557px / 2, calc((100vh - 240px) / 2))')
    // line-height s('min(calc((100vw - 20px) / 2), 557px / 2, calc((100vh - 240px) / 2))')
    height s('min(calc((100vw - 20px) / 5), 557px / 5, calc((100vh - 240px) / 5))')
    line-height s('min(calc((100vw - 20px) / 5), 557px / 5, calc((100vh - 240px) / 5))')
    transform scale(0)
    transition .3s transform
  &.open
    background #fff8
    pointer-events all
    .icon
      transform scale(1)
